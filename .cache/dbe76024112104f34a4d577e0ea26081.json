{"dependencies":[{"name":"./reset.css","dynamic":true},{"name":"./visionaries.css","dynamic":true},{"name":"./angular.1.5.0.min.js","dynamic":true},{"name":"./ngStorage.min.js","dynamic":true},{"name":"./ng-infinite-scroll.js","dynamic":true},{"name":"./angular-inview.js","dynamic":true},{"name":"./visionaries_prep.js","dynamic":true},{"name":"./visionaries_app.js","dynamic":true},{"name":"./images/visionaries_explorer_logo.svg","dynamic":true},{"name":"./images/how-to-header.png","dynamic":true},{"name":"./images/how-to-record.jpg","dynamic":true},{"name":"./images/how-to-favourites.jpg","dynamic":true}],"generated":{"html":"<!DOCTYPE html>\n<html ng-app=\"mainApp\" lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Visionaries Explorer</title>\n<link href=\"https://fonts.googleapis.com/css?family=Martel:300,400,600|Roboto:300,300i,400,400i,700,900\" rel=\"stylesheet\">\n<link rel=\"stylesheet\" href=\"/dist/663439f05ef00dc10d22bc1d401dcb81.css\">\n<link rel=\"stylesheet\" href=\"/dist/0379b0d603416703a7845b7e2f7da36b.css\">\n<style>\n\n</style>\n<!-- <script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js\"></script> -->\n<!-- <script src=\"https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.6/ngStorage.min.js\"></script> -->\n<script src=\"/dist/999374bff627f4a12a9521743d1e88ad.js\"></script>\n<script src=\"/dist/c760385dc466e8c397ead50d8dc0b5d4.js\"></script>\n<script src=\"/dist/407563cf0cbc2871d83afc5935442a03.js\"></script>\n<script src=\"/dist/f85861bcb161b2438aa152c0a164134a.js\"></script>\n<script src=\"/dist/e4553a21daf0dfe0d8a9c09358a3344b.js\"></script>\n<script src=\"/dist/074adbf9c09331bb74ccb426f0566e9c.js\"></script>\n<script>\n\n</script>\n</head>\n<body ng-controller=\"mainController\" ng-class=\"{'hide':viewer, 'favespeek':favespeek}\">\n\n<!-- /////////////////\n\tHEADER\n////////////////////// -->\n\n\t<header id=\"header\">\n\t<!-- \tMENU -->\n\t\t<nav id=\"menu\" ng-class=\"{'vis':menu_vis}\">\n\t\t\t<div id=\"menu_toggle\" ng-click=\"menu_vis=!menu_vis\" ng-class=\"{'vis':menu_vis}\">\n\t\t\t\t<div id=\"mt_a\"></div>\n\t\t\t\t<div id=\"mt_b\"></div>\n\t\t\t</div>\n\t\t\t<ul id=\"menu_list\">\n\t\t\t\t<li class=\"menu_heading\" ng-click=\"titleblock=!titleblock; menu_vis=!menu_vis\">Visionaries Explorer</li>\n\t\t\t\t<li class=\"menu_heading\" ng-click=\"howto=!howto; menu_vis=!menu_vis\">How-To</li>\n\t\t\t\t<li class=\"menu_heading\" ng-click=\"about=!about; menu_vis=!menu_vis\">About</li>\n\t\t\t</ul>\n\t\t</nav>\n\t\t\n\t<!-- HISTO -->\n\t\t<ul id=\"histo\" class=\"fullwidth\">\n\t\t\t\n\t\t\t<li ng-repeat=\"year in years\" ng-class=\"{'vis':year.ImgTotal>0, 'scroll':scrollyear==year.year, 'range':year.year>=dateRange[0] && year.year<=dateRange[1]}\" ng-click=\"focusYear(year.year)\">\n\t\t\t\t<!-- HISTO YEAR LABEL -->\n\t\t\t\t<div ng-if=\"year.year%25<1 || year.year==1759 || year.year==1995\" class=\"decade\"><span>{{year.year}}</span></div>\n\t\t\t\t<!-- HISTO IMAGES BAR -->\n\t\t\t\t<div class=\"h_bar_wrap\">\n\t\t\t\t\t<div ng-class=\"{'h_bar':year.ImgTotal>0}\" style=\"height: {{year.ImgTotal/16}}%;\" data-count=\"{{year.ImgTotal}}\"></div>\n\t\t\t\t\t<div ng-if=\"yr_match[year.year]\" class=\"h_open\" style=\"height: {{yr_match[year.year]/16}}%\" data-count=\"{{yr_match[year.year]}}\"></div>\n\t\t\t\t</div>\n\t\t\t\t<!-- HISTO RECORDS BAR -->\n\t\t\t\t<div class=\"h_hang_wrap\">\n\t\t\t\t\t<div ng-class=\"{'h_bar h_hang':year.records.length>0}\" style=\"height:{{year.records.length}}%;\"></div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li class=\"baseline\"></li>\n\t\t</ul>\n\t\t\n<!-- \tNAV -->\n\t\t<ul id=\"nav\" class=\"fullwidth\" ng-class=\"{'filtered':globalFiltered}\">\n\t\t\t<li ng-if=\"dateRange.length>0\" class=\"tally Date lt\"><input type=\"tel\" ng-model=\"dateRange[0]\" ng-blur=\"checkRange()\"></li>\n\t\t\t<li ng-if=\"dateRange.length>0\" class=\"tally Date gt\"><input type=\"tel\" ng-model=\"dateRange[1]\" ng-blur=\"checkRange()\"></li>\n\t\t\t<li class=\"tally Records\"><span class=\"count\">{{recCount}}</span><span class=\"nav_label\">Records</span></li>\n\t\t\t<li class=\"global_material Text btn\" ng-class=\"{'filtered':materialFilters.Text}\" ng-click=\"filterType('text')\"><span class=\"count\">{{globalCounts.t}}</span><span class=\"nav_label\">Text</span></li>\n\t\t\t<li class=\"global_material Images btn\" ng-class=\"{'filtered':materialFilters.Images}\" ng-click=\"filterType('images')\"><span class=\"count\">{{globalCounts.i}}</span><span class=\"nav_label\">Image</span></li>\n\t\t\t<li class=\"global_material Maps btn\" ng-class=\"{'filtered':materialFilters.Maps}\" ng-click=\"filterType('maps')\"><span class=\"count\">{{globalCounts.m}}</span><span class=\"nav_label\">Map</span></li>\n\t\t\t<li class=\"global_material Objects btn\" ng-class=\"{'filtered':materialFilters.Objects}\" ng-click=\"filterType('objects')\"><span class=\"count\">{{globalCounts.o}}</span><span class=\"nav_label\">Object</span></li>\n\t\t\t<li class=\"nav_search\"><input placeholder=\"Text Search\" type=\"text\" name=\"search\" id=\"search\" ng-model=\"searchWord.text\" ng-keyup=\"$event.keyCode == 13 ? setParams() : null\" ng-blur=\"setParams()\"></li>\n\t\t</ul>\n\t\t\n<!-- \tPALETTE -->\n\t\t<ul id=\"globalPalette\" class=\"fullwidth palette\">\n\t\t\t<li ng-repeat=\"sw in globalPalette\" ng-click=\"globalCol(sw)\" style=\"background-color: rgb({{sw.r}},{{sw.g}},{{sw.b}}); width: {{sw.p*50 + 50/globalPalette.length}}%;\"></li>\n\t\t</ul>\n\t\t\n<!-- \tFILTERS -->\n\t\t<div id=\"filters\">\n\t\t\t<span class=\"filters_label\">Showing {{recCount}} record{{recCount>1?'s':''}} between</span>\n\t\t\t<div class=\"meta_keyword\" ng-click=\"focusYear()\">\n\t\t\t\t<span>{{dateRange[0]}} - {{dateRange[1]}}</span>\n\t\t\t\t<span class=\"link_icon\" ng-if=\"dateRange[0]>1759 || dateRange[1]<1995\"></span>\n\t\t\t</div>\n\t\t\t<span class=\"filters_label\" ng-if=\"globalFiltered || subjectFilters.length>0 || searchWord.text.length>0\">that include{{recCount<2?'s':''}}< span=\"\">\n\t\t<!-- Materials -->\n\t\t\t<div class=\"filter_group\" ng-if=\"globalFiltered.type\">\n\t\t\t\t<div class=\"meta_keyword type\" ng-repeat=\"(k,v) in materialFilters\" ng-if=\"v\" ng-click=\"filterType(k)\">\n\t\t\t\t\t<span>{{k}}</span>\n\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<!-- Subjects -->\n\t\t\t<span class=\"filters_label\" ng-if=\"globalFiltered.tags\">{{globalFiltered.type?'and':''}} the tag{{keyCount(subjectFilters)>1?'s':''}}</span>\n\t\t\t<div class=\"filter_group\" ng-if=\"globalFiltered.tags\">\n\t\t\t\t<div class=\"meta_keyword subject\" ng-repeat=\"s in subjectFilters\" ng-click=\"filterSubject(s.type,s.text)\">\n\t\t\t\t\t<span>{{s.text}}</span>\n\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<!-- Search word -->\n\t\t\t<span class=\"filters_label text\" ng-if=\"searchWord.text.length>0\">{{globalFiltered.type||globalFiltered.tags?'and':''}} the {{searchWord.text.split(' ').length>1?'phrase':'word'}}</span>\n\t\t\t<div class=\"filter_group\" ng-if=\"globalFiltered.search\">\n\t\t\t\t<div class=\"meta_keyword\" ng-click=\"clearSearch()\">\n\t\t\t\t\t<span>\"{{searchWord.text}}\"</span>\n\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<!-- Colour -->\n\t\t\t<span class=\"filters_label\" ng-if=\"globalFiltered.colour\">{{globalFiltered.type||globalFiltered.tags||globalFiltered.search?'and':''}} the colour</span>\n\t\t\t<div class=\"filter_group\" ng-if=\"globalFiltered.colour\">\n\t\t\t\t<div class=\"meta_keyword swatch\" ng-repeat=\"(k,v) in colourFilters\" ng-click=\"globalCol(colourFilters[k])\" style=\"background-color: rgb({{k}})\">\n\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<span class=\"clear\" ng-click=\"resetFilters()\" ng-if=\"globalFiltered || subjectFilters.length>0 || searchWord.text.length>0\"></span>\n\t\t\t<span class=\"clearfloat\"></span>\n\t\t</2?'s':''}}<></span></div>\n\t\t\n<!-- FAVES -->\n\t\t<nav id=\"faves\" ng-click=\"showHero(storage.userset)\"><div id=\"favescount\" ng-if=\"storage.userset\">{{storage.userset.length}}</div></nav>\n\t\t\n\t</header>\n\t\n\n\n\n<!-- /////////////////\n\tMAIN CONTENT\n////////////////////// -->\n\n\t<main id=\"main\" infinite-scroll=\"showMore()\" infinite-scroll-distance=\"2\">\n\t\t\n\t\t<!-- TITLE BLOCKS -->\n\t\t\n\t\t<div ng-class=\"{'vis':titleblock}\" class=\"titleblock\">\n\t\t\t<img src=\"/dist/ef9e26176e767465c779e8af5b0d1bd0.svg\">\n\t\t\t<p>The State Library of NSW's Visionaries collection is comprised of over {{images.length}} digitised items representing events, characters and places of historical significance.</p>\n\t\t\t<p><span ng-click=\"howto=!howto\">Click here</span> for details about using this site. <span ng-click=\"about=!about\">Click here</span> to learn more about this project.</p>\n\t\t\t<span class=\"close\" ng-click=\"titleblock = !titleblock\"></span>\n\t\t</div>\n\t\t\n\t\t\n\t\t<div ng-class=\"{'vis':howto}\" class=\"titleblock how-to\">\n\t\t\t<h2>Visionaries</h2>\n\t\t\t<h3>How-To use this site</h3>\n\t\t\t<p>Visionaries is a collection of {{records.length}} records curated from the State Library of NSW catalogue. The {{records.length}} records contain {{images.length}} items including pages of text, artworks, photographs, maps and objects. This site allows you to explore the collection.</p>\n\t\t\t\n\t\t\t<h4>Header</h4>\n\t\t\t<img src=\"/dist/1e917a60fb2c2cfff76b8efd67cd9358.png\">\n\t\t\t<p>Use the site header to filter the collection. Some of the ways you can filter:\n\t\t\t\t<ol>\n\t\t\t\t\t<li>Show records within a specific date range. eg. 1935-1950.</li>\n\t\t\t\t\t<li>Show records containing items of a particular type (Text, Image, Map, Object).</li>\n\t\t\t\t\t<li>Search for a word or phrase. eg. \"federation\"</li>\n\t\t\t\t\t<li>Combine all of these filters. eg. Show records between 1910-1950 that include Images and the word \"war\".</li>\n\t\t\t\t</ol>\n\t\t\t</p>\n\t\t\t\n\t\t\t\n\t\t\t<h4>Records &amp; Items</h4>\n\t\t\t<img src=\"/dist/401007c34c090d91c27809f2701c60d0.jpg\">\n\t\t\t<p>Inside each <i>record</i> you'll find <i>items</i> of different types: text, artworks, photographs, maps and objects. Some records have hundreds of items while others have only a few.</p>\n\t\t\t<p>You can filter the items within a record by type and colour. eg. Show items within the record that are Images and feature the colour <span style=\"background-color: #0070b1;\"></span>.</p>\n\t\t\t<p>Click the <span style=\"background-image: url(images/icon_plus_black.svg)\">plus</span> symbol on a tag to filter the whole collection. eg. Show all records with the keyword \"cook\".</p>\n\t\t\t<p>Click the <span style=\"background-image: url(images/icon_link_black.svg)\">link</span> symbol on a title or tag to link through to the SLNSW catalogue. eg. View all catalogue records with the tag \"Voyages and travels--18th century\".</p>\n\t\t\t<p>Click the <span style=\"background-image: url(images/icon_heart.svg)\">heart</span> symbol on an item to add it to your collection of favourites.</p>\n\t\t\t\n\t\t\t\n\t\t\t<h4>Favourites</h4>\n\t\t\t<p>Click the <span style=\"background-image: url(images/icon_heart.svg)\">heart</span> symbol in the site header to view your custom collection of favourites.</p>\n\t\t\t<img src=\"/dist/6cc47182f88e92997537e448477a84a1.jpg\">\n\t\t\t<p>In the Favourites viewer you can remove items, link back to a source record, or share your set with others via email or social media.</p>\n\t\t\t\n\t\t\t\n\t\t\t<h4>Explore</h4>\n\t\t\t<p>The best way to learn more about this site and the Visionaries collection is to dig around and make your own discoveries.</p>\n\t\t\t\n\t\t\t<span class=\"close\" ng-click=\"howto = !howto\"></span>\n\t\t</div>\n\t\t\n\t\t<div ng-class=\"{'vis':about}\" class=\"titleblock about\">\n\t\t\t<h4>About</h4>\n\t\t\t<p>This site was developed by <a href=\"https://twitter.com/gravitron\" target=\"_blank\">Geoff Hinchcliffe</a> for the State Library of NSW DX Lab's Digital Fellowship. The project responds to the following brief:</p>\n\t\t\t<p><i>The Visionaries program identified items in its collections which supported the schools curriculum. These items were digitised and loaded onto the Libraryâ€™s website, but their display was not easy to search and use. Visionaries did provide rich curriculum relevant digital content but to capitalise upon its strengths, a new interface is required to create a much more engaging and purposeful experience than it currently has.</i></p>\n\t\t\t<p>The project's novel interface combines attributes of web design, graphic design and data visualisation. The different interface elements provide a unique overview of the collection and improve opportunities for access and exploration. The project also seeks to enliven the collection - to surface some of the rich visual character of the items held within each record.</p>\n\t\t\t<p>Ultimately, the project aims to support purposeful and strategic intent, as well as playful and serendipitous discovery.</p>\n\t\t\t\n\t\t\t<span class=\"close\" ng-click=\"about = !about\"></span>\n\t\t</div>\n\t\t\n\t\t\n\t\t<!-- RECORDS -->\n\t\t\n\t\t<div ng-if=\"!showset\" ng-repeat=\"year in yr_vis | limitTo:showmax\" class=\"year\" ng-class=\"{'empty' : year.records.length<1}\">\n\t\t\t\n\t\t<!-- ///////////////////\n\t\t\t\tYEAR LABEL\n\t\t\t//////////////////// -->\n\t\t\t<div class=\"label_year\">\n\t\t\t\t<h5 class=\"date\">{{year.year}}</h5>\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t<!-- ///////////////////\n\t\t\t\tRECORD\n\t\t\t//////////////////// -->\n\t\t\t<div class=\"record\" ng-repeat=\"priref in year.records track by $index\" ng-class=\"{'vis':records_assoc['_'+priref].vis}\" in-view=\"lineInView(year.year, $inview, $inviewInfo)\">\n\t\t\t\t<div class=\"bg_img\" ng-class=\"{'vis':records_assoc['_'+priref].vis}\" style=\"background-image:url(http://digital.sl.nsw.gov.au/delivery/DeliveryManagerServlet?dps_func=stream&dps_pid={{img_assoc['_'+priref][recordbg['_'+priref].img].fl}}); background-position-y:{{recordbg['_'+priref].pos}}%\"></div>\n\t\t\t\t<div class=\"bg_overlay\"></div>\n\t\t\t\t\n\t\t\t<!-- RECORD LABEL (ha!) -->\n\t\t\t\t<div class=\"bg_img rec_label\" ng-class=\"{'filtered':recFilters['_'+priref].materialfilter}\">\n\t\t\t\t\t<div class=\"title_wrap\">\n\t\t\t\t\t\t<h4 class=\"rec_title\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].showtitle[0]}}</span>\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].showtitle[1]}}</span>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<h6 class=\"rec_imgtotal\">{{records_assoc['_'+priref].ImgTotal}}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class=\"material\">\n\t\t\t\t\t\t<li class=\"title\" ng-click=\"viewRecord(priref)\" style=\"background-image: url(images/icon_{{records_assoc['_'+priref].Type}}.svg?v=2)\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].Title}}</span></li>\n\t\t\t\t\t\t<li class=\"tags\" ng-click=\"viewRecord(priref)\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].tags.length + records_assoc['_'+priref].keywords.length}}</span></li>\n\t\t\t\t\t\t<li class=\"Text\" ng-class=\"{'vis':recFilters['_'+priref].t}\" ng-click=\"filterRec(priref,'t',true)\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].materials.t}}</span></li>\n\t\t\t\t\t\t<li class=\"Images\" ng-class=\"{'vis':recFilters['_'+priref].i}\" ng-click=\"filterRec(priref,'i',true)\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].materials.i}}</span></li>\n\t\t\t\t\t\t<li class=\"Maps\" ng-class=\"{'vis':recFilters['_'+priref].m}\" ng-click=\"filterRec(priref,'m',true)\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].materials.m}}</span></li>\n\t\t\t\t\t\t<li class=\"Objects\" ng-class=\"{'vis':recFilters['_'+priref].o}\" ng-click=\"filterRec(priref,'o',true)\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+priref].materials.o}}</span></li>\n\t\t\t\t\t\t<li class=\"toggle\" ng-class=\"{'vis':records_assoc['_'+priref].vis}\" ng-click=\"viewRecord(priref)\"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul class=\"palette\">\n\t\t\t\t\t\t<li ng-repeat=\"sw in records_assoc['_'+priref].palette\" style=\"background-color: rgb({{sw.r}},{{sw.g}},{{sw.b}}); width: {{sw.p*50 + 50/records_assoc['_'+priref].palette.length}}%;\" ng-class=\"{'checked':recFilters['_'+priref].c[sw.r+','+sw.g+','+sw.b]}\" ng-click=\"globalCol(sw)\"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\t\n\t\t\n\t</main>\n\t\n\t\n\t\n<!-- /////////////////\n\tRECORD VIEWER\n////////////////////// -->\n\t\t\n\t<div id=\"viewer\" class=\"record vis\" ng-if=\"viewer\">\n\t\t<div class=\"bg_img vis\" style=\"background-image:url(http://digital.sl.nsw.gov.au/delivery/DeliveryManagerServlet?dps_func=stream&dps_pid={{img_assoc['_'+viewer.priref][recordbg['_'+viewer.priref].img].fl}}); background-position-y:{{recordbg['_'+viewer.priref].pos}}%\"></div>\n\t\t<div class=\"bg_overlay\"></div>\n\t\t\n\t\t<div class=\"v_wrap\">\n\t\t\t\n\t\t\t<div class=\"row row1\" ng-class=\"{'hide':viewer.fullscreen}\">\n\n\t\t\t<!-- ///////////////////\n\t\t\t\t\tMETA\n\t\t\t\t//////////////////// -->\n\t\t\t\t\n\t\t\t\t<div class=\"record_meta vis\">\n\t\t\t\t\t<!-- TITLE -->\n\t\t\t\t\t<!-- ng-click=\"records_assoc['_'+viewer.priref].metavis = !records_assoc['_'+viewer.priref].metavis\" -->\n\t\t\t\t\t<div class=\"meta_block meta_Title\">\n\t\t\t\t\t\t{{records_assoc['_'+viewer.priref].Title}} \n\t\t\t\t\t\t<a href=\"http://archival.sl.nsw.gov.au/Details/archive/{{viewer.priref}}\" target=\"_blank\"><span class=\"link_icon external\"></span></a>\n\t\t\t\t\t\t<span class=\"clear\" ng-click=\"viewRecord(viewer.priref)\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- TAGS -->\n\t\t\t\t\t<div class=\"meta_block keywords\" ng-class=\"{'vis':viewer.showkeywords}\" ng-if=\"records_assoc['_'+viewer.priref].tags.length>0 || records_assoc['_'+viewer.priref].keywords.length>0\">\n\t\t\t\t\t\t<span class=\"meta_keyword meta_label\" ng-if=\"records_assoc['_'+viewer.priref].tags.length>0\">Tags:</span> \n\t\t\t\t\t\t<div class=\"meta_keyword\" ng-repeat=\"w in records_assoc['_'+viewer.priref].tags track by $index\">\n\t\t\t\t\t\t\t<span>{{w.text}}</span>\n\t\t\t\t\t\t\t<span class=\"link_icon\" ng-click=\"filterSubject(w.type, w.text)\"></span>\n\t\t\t\t\t\t\t<a href=\"http://archival.sl.nsw.gov.au/search/detail?fieldname=Field_Content{{w.type}}&database=archive&value={{w.text}}\" target=\"_blank\"><span class=\"link_icon external\"></span></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class=\"meta_keyword meta_label\" ng-if=\"records_assoc['_'+viewer.priref].keywords.length>0\">Keywords:</span> \n\t\t\t\t\t\t<div class=\"meta_keyword\" ng-repeat=\"w in records_assoc['_'+viewer.priref].keywords track by $index\">\n\t\t\t\t\t\t\t<span>{{w.text}}</span>\n\t\t\t\t\t\t\t<span class=\"link_icon\" ng-click=\"filterSubject('keywords', w.text)\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class=\"clear vis\" ng-click=\"viewer.showkeywords=!viewer.showkeywords\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- DESCRIPTION & BIO -->\n\t\t\t\t\t<div class=\"meta_block description\" ng-class=\"{'vis':viewer.showkeywords}\" ng-if=\"records_assoc['_'+viewer.priref].description\">Description: {{records_assoc['_'+viewer.priref].description}}</div>\n\t\t\t\t\t<div class=\"meta_block description\" ng-class=\"{'vis':viewer.showkeywords}\" ng-if=\"records_assoc['_'+viewer.priref].bio\">Bio: {{records_assoc['_'+viewer.priref].bio}}</div>\n\t\t\t\t\t<p class=\"clearfloat\"></p>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<!-- RECORD LABEL (ha!) -->\n\t\t\t\t<div class=\"bg_img rec_label\" ng-class=\"{'filtered':recFilters['_'+viewer.priref].materialfilter}\">\n\t\t\t\t\t<ul class=\"material\">\n\t\t\t\t\t\t<li class=\"Type\" style=\"background-image: url(images/icon_{{records_assoc['_'+viewer.priref].Type}}.svg?v=2)\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+viewer.priref].Type}}</span></li>\n\t\t\t\t\t\t<li class=\"notes\" ng-if=\"records_assoc['_'+viewer.priref].description || records_assoc['_'+viewer.priref].bio\" ng-click=\"viewer.showkeywords=!viewer.showkeywords\"></li>\n\t\t\t\t\t\t<li class=\"tags\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+viewer.priref].tags.length + records_assoc['_'+viewer.priref].keywords.length}}</span></li>\n\t\t\t\t\t\t<li class=\"Text\" ng-class=\"{'vis':recFilters['_'+viewer.priref].t}\" ng-click=\"filterRec(viewer.priref,'t')\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+viewer.priref].materials.t}}</span></li>\n\t\t\t\t\t\t<li class=\"Images\" ng-class=\"{'vis':recFilters['_'+viewer.priref].i}\" ng-click=\"filterRec(viewer.priref,'i')\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+viewer.priref].materials.i}}</span></li>\n\t\t\t\t\t\t<li class=\"Maps\" ng-class=\"{'vis':recFilters['_'+viewer.priref].m}\" ng-click=\"filterRec(viewer.priref,'m')\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+viewer.priref].materials.m}}</span></li>\n\t\t\t\t\t\t<li class=\"Objects\" ng-class=\"{'vis':recFilters['_'+viewer.priref].o}\" ng-click=\"filterRec(viewer.priref,'o')\">\n\t\t\t\t\t\t\t<span>{{records_assoc['_'+viewer.priref].materials.o}}</span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul class=\"palette\">\n\t\t\t\t\t\t<li ng-repeat=\"sw in records_assoc['_'+viewer.priref].palette\" style=\"background-color: rgb({{sw.r}},{{sw.g}},{{sw.b}}); width: {{sw.p*50 + 50/records_assoc['_'+viewer.priref].palette.length}}%;\" ng-class=\"{'checked':recFilters['_'+viewer.priref].c[sw.r+','+sw.g+','+sw.b]}\" ng-click=\"localCol(viewer.priref,sw)\"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t<!-- ///////////////////\n\t\t\t\t\tACTIVE FILTERS\n\t\t\t\t//////////////////// -->\n\t\t\t\t\n\t\t\t\t<div class=\"filters vis\" ng-if=\"records_assoc['_'+viewer.priref].vis && recFilters['_'+viewer.priref].filtered\">\n\t\t\t\t\t<span class=\"filters_label\">{{img_vis['_'+viewer.priref].length}} item{{(img_vis['_'+viewer.priref].length==1) ? '' : 's'}}</span>\n\t\t\t\t\t\n\t\t\t\t<!-- Materials -->\n\t\t\t\t\t<div class=\"filter_group\" ng-if=\"recFilters['_'+viewer.priref].t || recFilters['_'+viewer.priref].i || recFilters['_'+viewer.priref].m || recFilters['_'+viewer.priref].o\">\n\t\t\t\t\t\t<span class=\"filters_label\">{{(img_vis['_'+viewer.priref].length==1)?'is':'are'}}</span>\n\t\t\t\t\t\t<div class=\"meta_keyword type\" ng-if=\"recFilters['_'+viewer.priref].t\">\n\t\t\t\t\t\t\t<span>Text</span>\n\t\t\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"meta_keyword type\" ng-if=\"recFilters['_'+viewer.priref].i\">\n\t\t\t\t\t\t\t<span>Image</span>\n\t\t\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"meta_keyword type\" ng-if=\"recFilters['_'+viewer.priref].m\">\n\t\t\t\t\t\t\t<span>Map</span>\n\t\t\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"meta_keyword type\" ng-if=\"recFilters['_'+viewer.priref].o\">\n\t\t\t\t\t\t\t<span>Object</span>\n\t\t\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t<!-- Colour -->\n\t\t\t\t\t<div class=\"filter_group\" ng-if=\"!isEmpty(recFilters['_'+viewer.priref].c)\">\n\t\t\t\t\t\t<span class=\"filters_label\">{{(recFilters['_'+viewer.priref].t || recFilters['_'+viewer.priref].i || recFilters['_'+viewer.priref].m || recFilters['_'+viewer.priref].o) ? 'and' : ''}} feature{{(img_vis['_'+viewer.priref].length==1)?'s':''}}</span>\n\t\t\t\t\t\t<div class=\"meta_keyword swatch\" ng-repeat=\"sw in recFilters['_'+viewer.priref].c\" ng-click=\"localCol(viewer.priref,sw)\" style=\"background-color: rgb({{sw.r}},{{sw.g}},{{sw.b}})\">\n\t\t\t\t\t\t\t<span class=\"link_icon\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<span class=\"clear\" ng-click=\"resetRecFilters(viewer.priref)\"></span>\n\t\t\t\t\t\n\t\t\t\t\t<span class=\"clearfloat\"></span>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"row row2\">\n\t\t\t<!-- ///////////////////\n\t\t\t\t\tIMAGES\n\t\t\t\t//////////////////// -->\n\t\t\t\t<div class=\"album\" ng-class=\"{'fullview':viewer.fullscreen}\" infinite-scroll=\"morePics(viewer.priref)\" infinite-scroll-distance=\"2\">\n\t\t\t\t\t<div class=\"hero_view\" ng-if=\"img_vis['_'+viewer.priref] && img_vis['_'+viewer.priref].length>0\">\n\t\t\t\t\t\t<div id=\"hero_frame\" class=\"hero_frame\" ng-class=\"{'zoomed':viewer.zoomed}\">\n\t\t\t\t\t\t\t<div id=\"hero_img\" class=\"hero_img\" style=\"background-image: url({{showImg(img_vis['_'+viewer.priref][img_feat['_'+viewer.priref]].fl)}}); width: {{zoomlevel}}%; height: {{zoomlevel}}%;\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class=\"hero_btn prev_img\" ng-click=\"showFeature(viewer.priref, 0, -1)\" ng-if=\"img_vis['_'+viewer.priref] && img_vis['_'+viewer.priref].length>1\"></span>\n\t\t\t\t\t\t<span class=\"hero_btn next_img\" ng-click=\"showFeature(viewer.priref, 0, 1)\" ng-if=\"img_vis['_'+viewer.priref] && img_vis['_'+viewer.priref].length>1\"></span>\n\t\t\t\t\t\t<span class=\"modal_btn fave\" ng-click=\"addImg(viewer.priref, img_vis['_'+viewer.priref][img_feat['_'+viewer.priref]].fl)\"></span>\n\t\t\t\t\t\t<span class=\"modal_btn fullscreen\" ng-class=\"{'hide':viewer.fullscreen}\" ng-click=\"viewer.fullscreen=!viewer.fullscreen\"></span>\n\t\t\t\t\t\t<span class=\"modal_btn magnify\" ng-click=\"zoomImg()\"></span>\n\t\t\t\t\t\t<span class=\"modal_btn magnify_plus\" ng-click=\"zoomImg(1)\"></span>\n\t\t\t\t\t\t<span class=\"modal_btn magnify_minus\" ng-click=\"zoomImg(-1)\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"thumbs_view\" ng-if=\"img_vis['_'+viewer.priref] && img_vis['_'+viewer.priref].length>1\">\n\t\t\t\t\t\t<div id=\"thumbs_{{viewer.priref}}\" class=\"thumbs\">\n\t\t\t\t\t\t\t<div ng-repeat=\"img in img_vis['_'+viewer.priref] | limitTo:records_assoc['_'+viewer.priref].showmax\" ng-class=\"{'block':img.feature, 'spinner':!img.cached, 'featured':img_feat['_'+viewer.priref]===$index}\" class=\"rec_img_wrap {{img.material.split('').join(' ')}}\">\n\t\t\t\t\t\t\t\t<img class=\"rec_img\" ng-class=\"{'feature':img.feature, 'cached':img.cached}\" ng-src=\"{{ img.feature ? showImg(img.fl) : imgSrc(img.fl) }}\" imageonload=\"imgLoaded(viewer.priref,0,$index)\" alt=\"Album image\" ng-click=\"showFeature(viewer.priref, $index)\">\n\t\t\t\t\t\t\t\t<ul class=\"palette\"><li ng-repeat=\"sw in img.palette\" ng-click=\"localCol(viewer.priref,sw)\" style=\"background-color: rgb({{sw.r}},{{sw.g}},{{sw.b}}); width: {{sw.p*50 + 50/img.palette.length}}%;\"></li></ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n<!-- \t\t\t\t\t\t<div class=\"scroll_up\" ng-click=\"thumbScroll(viewer.priref, -1)\" ng-if=\"img_vis['_'+viewer.priref] && img_vis['_'+viewer.priref].length>1\"></div> -->\n<!-- \t\t\t\t\t\t<div class=\"scroll_down\" ng-click=\"thumbScroll(viewer.priref, 1)\" ng-if=\"img_vis['_'+viewer.priref] && img_vis['_'+viewer.priref].length>1\"></div> -->\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t\n\t</div>\n\t\n\n<!-- USER SET -->\n\t<div id=\"overlay\" ng-class=\"{'vis':show_overlay}\">\n\t\t<div class=\"frame\" style=\"background-image: url({{showImg(heroImg.fl)}});\"></div>\n\t\t<span class=\"hero_btn prev_img\" ng-click=\"showHero(heroSet,heroImg.n-1)\"></span>\n\t\t<span class=\"hero_btn next_img\" ng-click=\"showHero(heroSet,heroImg.n+1)\"></span>\n\t\t<span class=\"clear\" ng-click=\"show_overlay=!show_overlay\"></span>\n\t\t<span class=\"remove\" ng-click=\"addImg(heroImg.priref, heroImg.fl, true)\"></span>\n\t\t<span class=\"rec\" ng-click=\"viewRecord(heroImg.priref)\"></span>\n\t\t<span class=\"share\" ng-click=\"shareSet()\" ng-if=\"storage.userset\"></span>\n\t\t<div id=\"overlay_thumbs\">\n\t\t\t<span ng-repeat=\"img in heroSet\" ng-class=\"{'vis':$index==heroImg.n}\"><img ng-src=\"{{imgSrc(img.fl)}}\" alt=\"User set image\" ng-click=\"showHero(heroSet,$index)\"></span>\n\t\t</div>\n\t\t\n\t\t<div id=\"shareview\" ng-class=\"{'vis':show_shares}\">\n\t\t\t<div class=\"wrap\">\n\t\t\t\t<p>Your share link: <span>{{shareurl}}</span></p>\n\t\t\t\t<p class=\"share_services\">Share via:\n\t\t\t\t\t<span ng-click=\"shareVia('twitter')\">Twitter</span>\n\t\t\t\t\t<span ng-click=\"shareVia('facebook')\">Facebook</span>\n\t\t\t\t\t<span ng-click=\"shareVia('email')\">Email</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<span class=\"clear\" ng-click=\"show_shares=!show_shares\"></span>\n\t\t</div>\n\t</div>\n\n</body>\n</html>"},"hash":"529f90e43abd3253c67e5a91288edc7a","cacheData":{}}